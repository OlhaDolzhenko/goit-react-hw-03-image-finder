{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Button/Button.js","services/images-api.js","App.js","index.js","components/SearchBar/Searchbar.module.css"],"names":["module","exports","SearchBar","state","search","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","reset","className","s","Searchbar","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","onChange","placeholder","Component","ImageGalleryItem","id","smallImage","bigImage","alt","onImageClick","ImageGalleryItemImage","src","onClick","ImageGallery","images","map","image","webformatURL","largeImageURL","tags","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","event","target","window","addEventListener","removeEventListener","createPortal","Overlay","Button","loadMore","api","fetchImages","page","fetch","then","response","json","Status","App","showModal","modalSrc","modalAlt","status","handleFetch","setTimeout","API","prevState","hits","catch","handleFormSubmit","toggleModal","dataset","source","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bce60437.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nexport default class SearchBar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func,\n  };\n\n  state = {\n    search: '',\n  };\n\n  handleChange = e => {\n    this.setState({ search: e.currentTarget.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.search);\n\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ search: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            value={this.state.search}\n            onChange={this.handleChange}\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ id, smallImage, bigImage, alt, onImageClick }) => {\n  return (\n    <li className={s.ImageGalleryItem} key={id}>\n      <img\n        className={s.ImageGalleryItemImage}\n        src={smallImage}\n        alt={alt}\n        data-source={bigImage}\n        onClick={onImageClick}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  smallImage: PropTypes.string,\n  bigImage: PropTypes.string,\n  alt: PropTypes.string,\n  onImageClick: PropTypes.func,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, onImageClick }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(image => {\n        return (\n          <ImageGalleryItem\n            key={image.id}\n            id={image.id}\n            smallImage={image.webformatURL}\n            bigImage={image.largeImageURL}\n            alt={image.tags}\n            onImageClick={onImageClick}\n          />\n        );\n      })}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string,\n      largeImageURL: PropTypes.string,\n      tags: PropTypes.string,\n    }),\n  ),\n  onImageClick: PropTypes.func,\n};\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img src={this.props.bigImage} alt={this.props.alt} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ loadMore }) => {\n  return (\n    <button type=\"button\" className={s.Button} onClick={loadMore}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  loadMore: PropTypes.func,\n};\n\nexport default Button;\n","function fetchImages(search, page) {\n  const myKey = '24617843-72c68f87ed3d0c63f61468751';\n  return fetch(`https://pixabay.com/api/?q=${search}&page=${page}&key=${myKey}&image_type=photo&orientation=horizontal&per_page=12\n`).then(response => {\n    return response.json();\n  });\n}\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n","import { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport SearchBar from './components/SearchBar';\nimport ImageGallery from './components/ImageGallery';\nimport Modal from './components/Modal';\nimport Button from './components/Button';\nimport API from './services/images-api';\nimport './App.css';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nclass App extends Component {\n  state = {\n    search: '',\n    images: [],\n    page: 1,\n    showModal: false,\n    modalSrc: '',\n    modalAlt: '',\n    status: Status.IDLE,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevSearch = prevState.search;\n    const nextSearch = this.state.search;\n\n    if (prevSearch !== nextSearch) {\n      this.handleFetch();\n    }\n\n    setTimeout(() => {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }, 700);\n  }\n\n  handleFetch = () => {\n    const { search, page } = this.state;\n    this.setState({ status: Status.PENDING });\n\n    setTimeout(() => {\n      API.fetchImages(search, page)\n        .then(images =>\n          this.setState(prevState => ({\n            images: [...prevState.images, ...images.hits],\n            page: prevState.page + 1,\n            status: Status.RESOLVED,\n          })),\n        )\n        .catch(this.setState({ status: Status.REJECTED }));\n    }, 700);\n  };\n\n  handleFormSubmit = search => {\n    this.setState({\n      search: search,\n      images: [],\n      page: 1,\n      status: Status.IDLE,\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  onImageClick = event => {\n    this.setState({\n      modalSrc: event.target.dataset.source,\n      modalAlt: event.target.alt,\n      showModal: true,\n    });\n  };\n\n  render() {\n    const { images, status, showModal, modalSrc, modalAlt } = this.state;\n    return (\n      <div className=\"App\">\n        <SearchBar onSubmit={this.handleFormSubmit} />\n        <ImageGallery images={images} onImageClick={this.onImageClick} />\n        {status === 'pending' && (\n          <div className=\"Loader\">\n            <Loader\n              type=\"Hearts\"\n              color=\"#3f51b5\"\n              height={200}\n              width={200}\n              timeout={3000}\n            />\n          </div>\n        )}\n        {status === 'resolved' && <Button loadMore={this.handleFetch} />}\n        {showModal && (\n          <Modal\n            bigImage={modalSrc}\n            alt={modalAlt}\n            onClose={this.toggleModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1l5fH\",\"SearchForm\":\"Searchbar_SearchForm__1punG\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1GWQ9\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3sN6h\",\"SearchFormInput\":\"Searchbar_SearchFormInput__miQ5w\"};"],"sourceRoot":""}